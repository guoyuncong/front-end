<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>v-for 循环</title>
    <!-- 导入 vue 包 -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>

<!--
    我们可以用 v-for 指令基于一个数组来渲染一个列表。
    ❶ v-for 指令需要使用 item in items 形式的特殊语法，其中 items 是源数据数组，而 item 则是被迭代的数组元素的别名。
    ❷ 在 v-for 块中，我们可以访问所有父作用域的 property。v-for 还支持一个可选的第二个参数，即当前项的索引。
    ❸ 2.2.0+ 的版本里，当在组件中使用 v-for 时，key 是必须的
-->

<body>
    <div id="app">
        请输入ID
        <input type="text" v-model:value="id">

        请输入名称
        <input type="text" v-model:value="name">

        <input type="button" value="添加" @click="add">

        <!-- 注意：v-for 循环的时候，key 属性只能使用 number 获取 string -->
        <!-- 注意：key 在使用的时候，必须使用 v-bind 属性绑定的形式，指定 key 的值 -->
        <!-- 在组件中，使用v-for循环的时候或者在一些特殊情况中，如果 v-for 有问题，必须在使用 v-for 的同时，指定唯一的字符串/数字类型 :key 值 -->
        <!-- 2.2.0+ 的版本里，当在组件中使用 v-for 时，key 现在是必须的 -->
        <p v-for="item in list" :key="item.id">
            <input type="checkbox">{{item.id}} --- {{item.name}}
        </p>
    </div>
</body>
<script>
    var app = new Vue({
        el: '#app',
        data: {
            id: '',
            name: '',
            list: [
                { id: 1, name: '李斯' },
                { id: 2, name: '嬴政' },
                { id: 3, name: '赵高' },
                { id: 4, name: '韩非' },
                { id: 5, name: '荀子' }
            ]
        },
        methods: {
            add() {
                this.list.unshift({ id: this.id, name: this.name })
            }
        },
    })
</script>

</html>